######################################################################################
# Last review            Thu 20 Dec 2012 07:00:35 AM CST
# #####################################################################################
#  vim: set ts=8 sw=4 tw=0 ft=conf :
#  TODO 02-03-2011 09:57 => xbindkeys

# ###################################
# ############ AUTOSTART ############
# ###################################

# execute my startup programs
# exec_always
exec --no-startup-id ~/.i3/startup

# ###################################
# ######## GENERAL SETTINGS #########
# ###################################

# Window border style:
# bn: border normal, with window title bar;
# bp: border only, no window title bar;
# bb: no berder or window title bar.
new_window 1pixel
#default_orientation auto | vertical | horizontal
#hide_edge_borders <none|vertical|horizontal|both>
# ----------------------------------<

# workspace names
# XXX: workspace name will end up in the corresponding bindings.

# ISO 10646 = Unicode
#font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
font xft:Bahamas 9
#font -xos4-terminus-medium-r-*--12-*-*-*-*-*-iso10646-1

### IPC INTERFACE ###

# The IPC interface allows programs like an external workspace bar
# (i3-wsbar) or i3-msg (can be used to "remote-control" i3) to work.
ipc-socket ~/.i3/ipc.sock

# ###################################
# ######## KEYBOARD BINDINGS ########
# ###################################

# This configuration uses Mod1 and Mod3. Make sure they are mapped properly using xev(1)
# and xmodmap(1). Usually, Mod1 is Alt (Alt_L) and Mod3 is Windows (Super_L)
# Mod4 is <Win> and Mod1 is <Alt>
set $Win Mod4
set $Alt Mod1
set $Altgr Mod5

# Use Mouse+$Win to drag floating windows to their wanted position
floating_modifier $Win

# custom script
bindsym F1 exec i3_help

# Fullscreen ($Win+f)
bindcode $Win+41 fullscreen

# Stacking ($Win+s)
bindcode $Win+39 layout stacking

# Tabbed ($Win+a)
bindcode $Win+38 layout tabbed

# Default ($Win+d)
bindcode $Win+40 layout default

# Toggle tiling/floating of the current window ($Win+Shift+Space)
bindcode $Win+Shift+65 floating toggle

# Focus ($Win+h/j/k/l)
bindcode $Win+43 focus left
bindcode $Win+44 focus down
bindcode $Win+45 focus up
bindcode $Win+46 focus right
# alternatively, you can use the cursor keys
#bindsym $Win+Left focus left
#bindsym $Win+Down focus down
#bindsym $Win+Up focus up
#bindsym $Win+Right focus right

# scratchpad, only for i3.4
# send to the scratchpad ($Win+Insert)
bindcode $Win+118 move scratchpad
# show the scratchpad ($Win+Space)
bindcode $Win+65 scratchpad show

# Focus Container ($Alt+h/j/k/l)
#bindcode $Alt+43 focus parent; focus left
#bindcode $Alt+44 focus parent; focus down
#bindcode $Alt+45 focus parent; focus up
#bindcode $Alt+46 focus parent; focus right

# Snap ($Win+Control+h/j/k/l)
#bindcode $Win+Control+43 layout stacking
#bindcode $Win+Control+44 layout stacking
#bindcode $Win+Control+45 layout stacking
#bindcode $Win+Control+46 layout stacking
# (alternatively, you can use the cursor keys:)
#bindsym $Win+Control+Left layout stacking
#bindsym $Win+Control+Down layout stacking
#bindsym $Win+Control+Up layout stacking
#bindsym $Win+Control+Right layout stacking

# Move ($Win+Shift+h/j/k/l)
bindcode $Win+Shift+43 move left
bindcode $Win+Shift+44 move down
bindcode $Win+Shift+45 move up
bindcode $Win+Shift+46 move right
# (alternatively, you can use the cursor keys:)
#bindsym $Win+Shift+Left move left
#bindsym $Win+Shift+Down move down
#bindsym $Win+Shift+Up move up
#bindsym $Win+Shift+Right move right

# Move Container (Mod3+Shift+h/j/k/l)
#bindcode $Alt+$Win+Shift+43 focus parent; move left
#bindcode $Alt+$Win+Shift+44 focus parent; move down
#bindcode $Alt+$Win+Shift+45 focus parent; move up
#bindcode $Alt+$Win+Shift+46 focus parent; move right

# Workspaces ($Win+1/2/…)
bindcode $Win+10 workspace 1 www
bindcode $Win+11 workspace 2 work
bindcode $Win+12 workspace 3 work
bindcode $Win+13 workspace 4 im
bindcode $Win+14 workspace 5 mail
bindcode $Win+15 workspace 6 files
bindcode $Win+16 workspace 7 work
bindcode $Win+17 workspace 8 news
bindcode $Win+18 workspace 9 work
bindcode $Win+19 workspace 10 work
bindcode $Win+24 workspace 11 work
bindcode $Win+25 workspace 12 work
bindcode $Win+26 workspace 13 work
bindcode $Win+27 workspace 14 work
bindcode $Win+28 workspace 15 work
bindcode $Win+29 workspace 16 work
bindcode $Win+30 workspace 17 work
bindcode $Win+31 workspace 18 work
bindcode $Win+32 workspace 19 work
bindcode $Win+33 workspace 20 work

bindsym $Win+Right workspace next
bindsym $Win+Left workspace prev

# Move to Workspaces
bindcode $Win+Shift+10 move workspace 1 www
bindcode $Win+Shift+11 move workspace 2 work
bindcode $Win+Shift+12 move workspace 3 work
bindcode $Win+Shift+13 move workspace 4 im
bindcode $Win+Shift+14 move workspace 5 mail
bindcode $Win+Shift+15 move workspace 6 files
bindcode $Win+Shift+16 move workspace 7 work
bindcode $Win+Shift+17 move workspace 8 news
bindcode $Win+Shift+18 move workspace 9 work
bindcode $Win+Shift+19 move workspace 10 work

# Requires latest version (from git)
# ---------------------------------->
bindcode $Win+Shift+24 move workspace 11 work
bindcode $Win+Shift+25 move workspace 12 work
bindcode $Win+Shift+26 move workspace 13 work
bindcode $Win+Shift+27 move workspace 14 work
bindcode $Win+Shift+28 move workspace 15 work
bindcode $Win+Shift+29 move workspace 16 work
bindcode $Win+Shift+30 move workspace 17 work
bindcode $Win+Shift+31 move workspace 18 work
bindcode $Win+Shift+32 move workspace 19 work
bindcode $Win+Shift+33 move workspace 20 work
# ----------------------------------<

# $Win+Enter starts a new terminal
bindcode $Win+36 exec /usr/bin/x-terminal-emulator
bindcode $Win+Shift+36 split h
#bind $Win+36 exec /usr/bin/urxvtc
bindsym Control+Shift+g exec /usr/bin/x-terminal-emulator
#bindsym Control+Shift+g exec /usr/bin/urxvtc

# Control+Shift*f starts firefox
#bind Control+Shift+41 exec /usr/bin/firefox

# $Alt+Esc dmenu_run
# -sf purple
#bindcode $Alt+9 exec dmenu_run -p ">" -i -nb \#000000 -nf \#FFFFFF -sb \#000000 -sf \#7541B9
bind $Alt+9 exec /usr/local/bin/dmenu_run

# Control+$Alt+e exits i3
#bindcode Control+$Alt+26 exit

# Control+$Alt+r restarts i3 inplace
#bindcode Control+$Alt+27 restart

# Control+$Alt+l lock session
#bindcode Control+$Alt+46 exec i3lock -i $HOME/data/images/wallpapers/sun.png -n -t
bindcode Control+$Alt+46 exec  i3lock -i $HOME/.data/images/wallpapers/lock.png -n -t &

# Control+$Alt+Supr starts a dmenu session menu
bindcode Control+$Alt+119 exec dmenu_session

# Toggle windows transparency
#bindsym Control+Shift+t exec transset -p

# mutt:
bindsym $Altgr+m exec /usr/bin/x-terminal-emulator -title "mutt" -e mutt
#bindsym Control+Shift+m exec /bin/sh -c mutt
# magnifier:
bindsym $Altgr+Shift+m exec magnifier

# irssi:
#bindsym Control+Shift+i exec /usr/bin/x-terminal-emulator -e irssi
bindsym $Altgr+i exec /usr/bin/x-terminal-emulator -title "irssi" -e bash -c "irssi --config=<(gpg -d $HOME/.irssi/config.gpg)"
#bindsym Control+Shift+i exec /bin/sh -c irssi

# pms:
bindsym $Altgr+r exec /usr/bin/x-terminal-emulator -e ncmpcpp
#bindsym Control+Shift+p exec sh -c pms

# wicd-curses:
bindsym $Altgr+w exec /usr/bin/x-terminal-emulator -e wicd-curses

# alsamixer: Control+Shift+a
#bindsym Control+Shift+a exec /usr/bin/x-terminal-emulator -e alsamixer
#bindsym Control+Shift+a exec /bin/sh -c alsamixer

# pcmanfm:
#bindsym Control+Shift+h exec /usr/bin/pcmanfm
bindsym $Altgr+h exec /usr/bin/pcmanfm
#bindsym Control+Shift+h exec nautilus

# volume:
#bindcode Control+Shift+20 exec /usr/bin/amixer set Master 1-
bindcode $Altgr+59 exec /usr/bin/amixer set Master 1-
#bind Control+Shift+21 exec /usr/bin/amixer set Master 1+
bindcode $Altgr+60 exec /usr/bin/amixer set Master 1+

# mpd:
bindsym $Altgr+p exec /usr/local/bin/mpc_toggle
#bind Control+Shift+60 exec /usr/bin/mpc next
bind $Altgr+21 exec /usr/bin/mpc next
#bind Control+Shift+59 exec /usr/bin/mpc prev
bind $Altgr+34 exec /usr/bin/mpc prev

# kills the current app
bindcode $Altgr+45 kill

# killall shows up a menu to kill the choosen item
bindcode $Altgr+46 exec dmenu_killall

# song:
bindsym $Altgr+s exec /usr/local/bin/dmenu_mpd

# xrand:
bindsym $Altgr+a exec /usr/local/bin/dmenu_xrandr

# vbox:
bindsym $Altgr+v exec /usr/local/bin/dmenu_vbox

# tell:
bindsym $Altgr+t exec /usr/local/bin/dmenu_tell

# screenshot: ImpPt
bind 107 exec /usr/local/bin/screenshot

# record_desktop: TODO 29-09-2013 00:50 >> assign new shortcuts
#bind Control+Shift+35 exec /usr/local/bin/screencast_record stop
#bind Control+35 exec /usr/local/bin/screencast_record start

# go to the urgent flag set
#bindsym $Win+x [urgent=latest] focus

mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # They resize the border in the direction you pressed, e.g.
        # when pressing left, the window is resized so that it has
        # more space on its left

        bindsym h resize grow left 10 px
        #bindsym Shift+h resize grow left 10 px

        #bindsym t resize shrink up 10 px
        bindsym j resize shrink up 10 px

        bindsym k resize grow up 10 px
        #bindsym Shift+k resize grow down 10 px

        #bindsym l resize grow right 10 px
        bindsym l resize shrink left 10 px

        #Exit resize mode
        bindsym $Altgr+x mode "default"
}

# Enter resize mode
bindsym $Altgr+z mode "resize"

# Get me to the next open VIM instance
#bindsym $Win+v [class="buzz" title="VIM"] focus
#bindsym $Win+m [class="buzz" title="mutt"] focus

# Read 1 character and mark the current window with this character
bindsym $Win+m exec i3-input -p 'mark ' -l 1 -P 'Mark: '

# Read 1 character and go to the window with the character
bindcode $Win+20 exec i3-input -p 'goto ' -l 1 -P 'Go: '

# ###################################
# ############# ASSIGNS #############
# ###################################

# Just for i3.4
for_window [class="Magnifier"] floating enable
for_window [class="Xmessage"] floating enable
for_window [class="Gxmessage"] floating enable
for_window [class="^URxvt$" instance="scratchpad"] border 1pixel; move scratchpad
for_window [class="^TeamViewer.exe$"] floating enable
for_window [title="^TeamViewer$"] floating enable
for_window [title="- TeamViewer -"] floating enable
for_window [class="Firefox" title="^About Nightly"] floating enable

# popup_during_fullscreen <smart|ignore|leave_fullscreen> smart is default
#popup_during_fullscreen ignore
workspace_auto_back_and_forth yes

# makes the window floating as soon as I change
# directory to ~/work
#for_window [title="x200: ~/work"] floating enable

# Assigns default monitor for workspaces
#workspace "1 www" output VGA1
workspace "1 www" output HDMI1

# Assigns default workspaces for app
# assign ["]window class[/window title]["] [→] [~ | workspace]

assign [class="Firefox"]                                "1 www"
assign [class="^URxvt$" title="irssi"]                  "4 im"
assign [class="^URxvt$" title="mutt"]                   "5 mail"
assign [class="Thunderbird"]                            "5 mail"
assign [class="Liferea"]                                "8 news"
assign [class="Pcmanfm"]                                "6 files"
assign [class="Nautilus"]                               "6 files"
#assign "workrave"        20

# ###################################
# ############# COLORS ##############
# ###################################

#  colorclass            border          background      text

# arch linux
#client.focused          #1793D1         #1793D1         #ffffff
#client.focused_inactive #666666         #666666         #ffffff
#client.unfocused        #333333         #333333         #ffffff
#client.urgent           #D11931         #D11931         #ffffff
#bar.focused             #1793d1         #1793d1         #ffffff
#bar.unfocused           #333333         #333333         #ffffff
#bar.urgent              #d11931         #d11931         #ffffff

# freebsd
#client.focused         #990000         #990000         #ffffff
#client.focused_inactive        #666666         #666666         #ffffff
#client.unfocused       #333333         #333333         #ffffff
#client.urgent          #D11931         #D11931         #ffffff
#bar.focused            #990000         #990000         #ffffff
#bar.unfocused          #333333         #333333         #ffffff
#bar.urgent             #d11931         #d11931         #ffffff

# gentoo
#client.focused         #7a5ada         #7a5ada         #ffffff
#client.focused_inactive        #45347b         #45347b         #ffffff
#client.unfocused       #333333         #333333         #ffffff
#client.urgent          #D11931         #D11931         #ffffff
#bar.focused            #45347b         #45347b         #ffffff
#bar.unfocused          #dddaec         #dddaec         #45347b
#bar.urgent             #d11931         #d11931         #ffffff

# dark
client.focused            #999999      #999999      #000000
client.focused_inactive   #333333      #333333      #999999
client.unfocused          #333333      #333333      #999999
client.urgent             #8C4665      #8C5665      #999999
# XXX: REMOVED bar.focused, configure i3bar instead.
#bar.focused               #999999      #000000      #999999
#bar.unfocused             #333333      #000000      #999999
#bar.urgent                #d11931      #000000      #999999

# XXX: Automatically added a call to i3bar to provide a workspace bar
#exec i3status | i3bar -d
bar {
    colors {
        background #000000
        statusline #ffffff
        focused_workspace  #999999 #000000 #999999
        active_workspace   #999999 #000000 #999999
        inactive_workspace #333333 #000000 #999999
        urgent_workspace   #d11931 #000000 #999999
    }
    status_command i3status
    tray_output none
    font pango:Inconsolata 9
    #mode hide
    #modifier $Win
}
